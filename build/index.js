"use strict";var budgetController=function(){var r=[0],u=[0],t=0,o=0,a=0,n=0,d=function(){var e=function(e,t){return e+t};o=Math.round(100*r.reduce(e))/100,a=Math.round(100*u.reduce(e))/100,t=Math.floor(100*(o-a))/100,n=Math.floor(100*a/o*100)/100};return{dodajElementDoBudzetu:function(e){"dochod"===e.rodzaj&&r.push(e.kwota),"wydatki"===e.rodzaj&&u.push(e.kwota),d()},usunElementZBudzetu:function(e){var t=e.parentNode.parentNode.dataset.type,o=e.parentNode.previousElementSibling.innerHTML.match(/\d+/g).map(Number);if("dochod"===t){var a=r.indexOf(o[0]);-1!==a&&r.splice(a,1)}if("wydatki"===t){var n=u.indexOf(o[0]);-1!==n&&u.splice(n,1)}d()},pobierzDaneBudzetu:function(){return{sumaDochodu:o,sumaWydatki:a,saldo:t,wydatkiProcent:n}}}}(),uiController={zglosBledy:function(e){var t=document.querySelector(".kalkulator__bledy");t.innerHTML=e,t.classList.add("kalkulator__bledy--aktywny"),setTimeout(function(){t.classList.remove("kalkulator__bledy--aktywny")},5e3)},dodajElementBudzetuDoUI:function(e){var t,o=(t=e.rodzaj,document.querySelector("#".concat(t,"__template")).cloneNode(!0));o.content.querySelector(".element__opis").innerHTML=e.nazwa,o.content.querySelector(".element__kwota").innerHTML="".concat(e.kwota," zł"),document.querySelector(".".concat(e.rodzaj,"__lista")).appendChild(o.content)},aktualizujBudzetUI:function(e){var t=document.querySelector(".budzet__srodki"),o=document.querySelector(".dochod__srodki"),a=document.querySelector(".wydatki__srodki"),n=document.querySelector(".wydatki__procent");t.innerHTML=e.saldo+" zł",o.innerHTML=e.sumaDochodu+" zł",a.innerHTML=e.sumaWydatki+" zł",n.innerHTML=e.wydatkiProcent+" %"}},appController=function(a,n){var r=function(t){var o="";if(Object.keys(t).forEach(function(e){""===t[e]?o+="nazwa"===e?"Wprowadz dane w polu dodaj opis <br>":"Wprowadz dane w polu ".concat(e," <br>"):"nazwa"===e&&t[e].length<3?o+="Wprowadz minimum 3 znaki w polu ".concat(e," <br>"):("kwota"===e&&isNaN(parseFloat(t[e]))&&!isFinite(t[e])||String(t[e]).includes("-"))&&(o+="Wprowadz poprawne dane w polu ".concat(e," (tylko liczby) <br>"))}),o)return n.zglosBledy(o),!0};return{inicjalizacja:function(){document.querySelector("body").addEventListener("click",function(e){var t,o;"far fa-check-circle"===e.target.className&&(t={rodzaj:document.querySelector('[name="rodzaj"]').value,nazwa:document.querySelector('[name="nazwa"]').value,kwota:Math.floor(100*document.querySelector('[name="kwota"]').value.replace(",","."))/100},r(t)||(a.dodajElementDoBudzetu(t),n.dodajElementBudzetuDoUI(t),n.aktualizujBudzetUI(a.pobierzDaneBudzetu()))),"far fa-times-circle"===e.target.className&&(o=e.target,a.usunElementZBudzetu(o),n.aktualizujBudzetUI(a.pobierzDaneBudzetu()),o.parentNode.parentNode.remove())})}}}(budgetController,uiController);appController.inicjalizacja();
"use strict";
"use strict";document.addEventListener("DOMContentLoaded",function(e){var t=document.querySelector(".hamburger__przycisk"),r=document.querySelector(".nawigacja"),a=!1;document.addEventListener("click",function(e){if(e.target.closest(".hamburger__przycisk"))return r.classList.toggle("nawigacja--ukryj"),t.classList.toggle("hamburger__przycisk--aktywny"),void(a=!a);if(1==a){if(e.target.closest(".nawigacja"))return;return r.classList.add("nawigacja--ukryj"),t.classList.remove("hamburger__przycisk--aktywny"),void(a=!a)}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1ZHpldC5qcyIsImluZGV4LmpzIiwibmF3aWdhY2phLmpzIl0sIm5hbWVzIjpbImJ1ZGdldENvbnRyb2xsZXIiLCJkb2Nob2RMaXN0YSIsInd5ZGF0a2lMaXN0YSIsInNhbGRvIiwic3VtYURvY2hvZHUiLCJzdW1hV3lkYXRraSIsImFrdHVhbGl6dWpCdWR6ZXQiLCJudW0iLCJnZXRzdW0iLCJNYXRoIiwicm91bmQiLCJyZWR1Y2UiLCJmbG9vciIsInd5ZGF0a2lQcm9jZW50IiwiZG9kYWpFbGVtZW50RG9CdWR6ZXR1IiwiZGFuZSIsInJvZHphaiIsInB1c2giLCJrd290YSIsInVzdW5FbGVtZW50WkJ1ZHpldHUiLCJlIiwicGFyZW50Tm9kZSIsImRhdGFzZXQiLCJ0eXBlIiwiaW5uZXJIVE1MIiwibWF0Y2giLCJtYXAiLCJOdW1iZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJwb2JpZXJ6RGFuZUJ1ZHpldHUiLCJ1aUNvbnRyb2xsZXIiLCJ6Z2xvc0JsZWR5IiwiYmxlZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGQiLCJzZXRUaW1lb3V0IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZG9kYWpFbGVtZW50QnVkemV0dURvVUkiLCJnZXRUZW1wbGF0ZUh0bWwiLCJ0ZW1wIiwiY29udGVudCIsImNvbmNhdCIsImNsb25lTm9kZSIsImFwcGVuZENoaWxkIiwiYWt0dWFsaXp1akJ1ZHpldFVJIiwiYnVkemV0U3JvZGtpIiwid3lkYXRraVNyb2RraSIsImRvY2hvZFNyb2RraSIsImFwcENvbnRyb2xsZXIiLCJidWRnZXQiLCJkb2RhakJ1ZHpldCIsInVpIiwic3ByYXdkekRhbmUiLCJlcnJvcnMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImxlbmd0aCIsImlzTmFOIiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwiaW5pY2phbGl6YWNqYSIsImluY2x1ZGVzIiwidGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTmFtZSIsInZhbHVlIiwibmF6d2EiLCJyZXBsYWNlIiwiaGFtYnVyZ2VyQnV0dG9uIiwibmF3aWdhY2phIiwiamVzdEFrdHl3bnkiLCJ0b2dnbGUiLCJjbG9zZXN0Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxpQkFBQSxXQUVBLElBQU1BLEVBQWdCLENBQUEsR0FDaEJDLEVBQWUsQ0FBRCxHQUNkQyxFQUFBQSxFQUNBQyxFQUFKLEVBQ0lDLEVBQWMsRUFDZEMsRUFBSixFQUdNQyxFQUFtQixXQUF6QixJQUFNQSxFQUFBQSxTQUFBQSxFQUFtQkMsR0FDdkIsT0FBTUMsRUFBU0QsR0FFZEgsRUFGREssS0FBQUMsTUFBQSxJQUFBVCxFQUFBVSxPQUFBSCxJQUFBLElBSUFILEVBQWNJLEtBQUtDLE1BQW9DLElBQTlCUixFQUFhUyxPQUFPSCxJQUFpQixJQUE5REgsRUFBQUEsS0FBV08sTUFBa0NKLEtBQTFCRSxFQUFNUixJQUE4QixJQUV2REMsRUFDQVUsS0FBQUEsTUFDZVIsSUFEREEsRUFDQ0EsRUFBcUJELEtBQUFBLEtBR3RDLE1BQU8sQ0FDTFUsc0JBQXVCLFNBQUFDLEdBQ0QsV0FBaEJBLEVBQUtDLFFBQ1BmLEVBQVlnQixLQUFLRixFQUFLRyxPQUVKLFlBQWhCSCxFQUFLQyxRQUFUZCxFQUFJZSxLQUFnQkYsRUFBQUcsT0FJcEJaLEtBQ0RhLG9CQVZJLFNBQUFDLEdBV0xELElBQUFBLEVBQUFBLEVBQW1CRSxXQUFFQSxXQUFBQyxRQUFBQyxLQUNiUCxFQUFVSSxFQUFDQyxXQUFXQSx1QkFBNUJHLFVBQ0FDLE1BQVcsUUFFUkMsSUFBSUMsUUFHTCxHQUFjMUIsV0FBZGUsRUFBeUIsQ0FBekIsSUFBTVksRUFBUTNCLEVBQVk0QixRQUFRWCxFQUFNLEtBQ3pCLElBQVhVLEdBQ0YzQixFQUFZNkIsT0FBT0YsRUFBTyxHQUc5QixHQUFlLFlBQVhaLEVBQXNCLENBQTFCLElBQUlBLEVBQVdkLEVBQVcyQixRQUFBWCxFQUFBLEtBQ1ZoQixJQUFSMEIsR0FFSjFCLEVBQWE0QixPQUFPRixFQUFPLEdBRTlCdEIsS0FF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QUVOdEMsU0FBSXdDLGlCQUFKLFFBQUEsU0FBQXZELEdBRUFlLEdBQUFBLEVBQVFnQyxPQUFDQyxRQUFBQSx3QkFJTE8sT0FIRkQsRUFBSW5DLFVBQWlCcUMsT0FBQSxvQkFDbkJGLEVBQVVuQyxVQUFWcUMsT0FBMkIscUNBQzNCSCxHQUFlRSxHQUdoQixHQUFBLEdBQUFBLEVBQUEsQ0FFQyxHQUFJdkQsRUFBRStDLE9BQU9VLFFBQVEsY0FBZSxPQUVwQ0osT0FIRkMsRUFBSUMsVUFBZXRDLElBQU0sb0JBQ3ZCb0MsRUFBYUksVUFBUXJDLE9BQWpCLHFDQUNKa0MsR0FBVW5DIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRG9kYXdhbmllIGJ1ZHpldHVcclxuXHJcbmNvbnN0IGJ1ZGdldENvbnRyb2xsZXIgPSAoKCkgPT4ge1xyXG4gIGxldCBkb2Nob2RMaXN0YSA9IFswXTtcclxuICBsZXQgd3lkYXRraUxpc3RhID0gWzBdO1xyXG4gIGxldCBzYWxkbyA9IDA7XHJcbiAgbGV0IHN1bWFEb2Nob2R1ID0gMDtcclxuICBsZXQgc3VtYVd5ZGF0a2kgPSAwO1xyXG4gIGxldCB3eWRhdGtpUHJvY2VudCA9IDA7XHJcblxyXG4gIGNvbnN0IGFrdHVhbGl6dWpCdWR6ZXQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBnZXRzdW0gPSAodG90YWwsIG51bSkgPT4ge1xyXG4gICAgICByZXR1cm4gdG90YWwgKyBudW07XHJcbiAgICB9O1xyXG4gICAgc3VtYURvY2hvZHUgPSBNYXRoLnJvdW5kKGRvY2hvZExpc3RhLnJlZHVjZShnZXRzdW0pICogMTAwKSAvIDEwMDtcclxuICAgIHN1bWFXeWRhdGtpID0gTWF0aC5yb3VuZCh3eWRhdGtpTGlzdGEucmVkdWNlKGdldHN1bSkgKiAxMDApIC8gMTAwO1xyXG5cclxuICAgIHNhbGRvID0gTWF0aC5mbG9vcigoc3VtYURvY2hvZHUgLSBzdW1hV3lkYXRraSkgKiAxMDApIC8gMTAwO1xyXG4gICAgd3lkYXRraVByb2NlbnQgPVxyXG4gICAgICBNYXRoLmZsb29yKCgoc3VtYVd5ZGF0a2kgKiAxMDApIC8gc3VtYURvY2hvZHUpICogMTAwKSAvIDEwMDtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZG9kYWpFbGVtZW50RG9CdWR6ZXR1OiBkYW5lID0+IHtcclxuICAgICAgaWYgKGRhbmUucm9kemFqID09PSBcImRvY2hvZFwiKSB7XHJcbiAgICAgICAgZG9jaG9kTGlzdGEucHVzaChkYW5lLmt3b3RhKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZGFuZS5yb2R6YWogPT09IFwid3lkYXRraVwiKSB7XHJcbiAgICAgICAgd3lkYXRraUxpc3RhLnB1c2goZGFuZS5rd290YSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFrdHVhbGl6dWpCdWR6ZXQoKTtcclxuICAgIH0sXHJcbiAgICB1c3VuRWxlbWVudFpCdWR6ZXR1OiBlID0+IHtcclxuICAgICAgY29uc3Qgcm9kemFqID0gZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuZGF0YXNldC50eXBlO1xyXG4gICAgICBjb25zdCBrd290YSA9IGUucGFyZW50Tm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlubmVySFRNTFxyXG4gICAgICAgIC5tYXRjaCgvXFxkKy9nKVxyXG4gICAgICAgIC5tYXAoTnVtYmVyKTtcclxuXHJcbiAgICAgIGlmIChyb2R6YWogPT09IFwiZG9jaG9kXCIpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IGRvY2hvZExpc3RhLmluZGV4T2Yoa3dvdGFbMF0pO1xyXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgIGRvY2hvZExpc3RhLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChyb2R6YWogPT09IFwid3lkYXRraVwiKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB3eWRhdGtpTGlzdGEuaW5kZXhPZihrd290YVswXSk7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgd3lkYXRraUxpc3RhLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBha3R1YWxpenVqQnVkemV0KCk7XHJcbiAgICB9LFxyXG4gICAgcG9iaWVyekRhbmVCdWR6ZXR1OiAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhbmUgPSB7XHJcbiAgICAgICAgc3VtYURvY2hvZHUsXHJcbiAgICAgICAgc3VtYVd5ZGF0a2ksXHJcbiAgICAgICAgc2FsZG8sXHJcbiAgICAgICAgd3lkYXRraVByb2NlbnRcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIGRhbmU7XHJcbiAgICB9XHJcbiAgfTtcclxufSkoKTtcclxuXHJcbmNvbnN0IHVpQ29udHJvbGxlciA9ICgoKSA9PiB7XHJcbiAgY29uc3QgZ2V0VGVtcGxhdGVIdG1sID0gcm9kemFqID0+IHtcclxuICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtyb2R6YWp9X190ZW1wbGF0ZWApO1xyXG4gICAgY29uc3QgY2xvbmUgPSB0ZW1wLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjbG9uZTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgemdsb3NCbGVkeTogZSA9PiB7XHJcbiAgICAgIGNvbnN0IGJsZWR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5rYWxrdWxhdG9yX19ibGVkeVwiKTtcclxuXHJcbiAgICAgIGJsZWR5LmlubmVySFRNTCA9IGU7XHJcbiAgICAgIGJsZWR5LmNsYXNzTGlzdC5hZGQoXCJrYWxrdWxhdG9yX19ibGVkeS0tYWt0eXdueVwiKTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGJsZWR5LmNsYXNzTGlzdC5yZW1vdmUoXCJrYWxrdWxhdG9yX19ibGVkeS0tYWt0eXdueVwiKTtcclxuICAgICAgfSwgNTAwMCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGRvZGFqRWxlbWVudEJ1ZHpldHVEb1VJOiBkYW5lID0+IHtcclxuICAgICAgY29uc3QgdGVtcCA9IGdldFRlbXBsYXRlSHRtbChkYW5lLnJvZHphaik7XHJcblxyXG4gICAgICB0ZW1wLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19vcGlzXCIpLmlubmVySFRNTCA9IGRhbmUubmF6d2E7XHJcbiAgICAgIHRlbXAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2t3b3RhXCIpLmlubmVySFRNTCA9IGAke1xyXG4gICAgICAgIGRhbmUua3dvdGFcclxuICAgICAgfSB6xYJgO1xyXG5cclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihgLiR7ZGFuZS5yb2R6YWp9X19saXN0YWApXHJcbiAgICAgICAgLmFwcGVuZENoaWxkKHRlbXAuY29udGVudCk7XHJcbiAgICB9LFxyXG4gICAgYWt0dWFsaXp1akJ1ZHpldFVJOiBkYW5lID0+IHtcclxuICAgICAgY29uc3QgYnVkemV0U3JvZGtpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idWR6ZXRfX3Nyb2RraVwiKTtcclxuICAgICAgY29uc3QgZG9jaG9kU3JvZGtpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb2Nob2RfX3Nyb2RraVwiKTtcclxuICAgICAgY29uc3Qgd3lkYXRraVNyb2RraSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud3lkYXRraV9fc3JvZGtpXCIpO1xyXG4gICAgICBjb25zdCB3eWRhdGtpUHJvY2VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud3lkYXRraV9fcHJvY2VudFwiKTtcclxuXHJcbiAgICAgIGJ1ZHpldFNyb2RraS5pbm5lckhUTUwgPSBkYW5lLnNhbGRvICsgXCIgesWCXCI7XHJcbiAgICAgIGRvY2hvZFNyb2RraS5pbm5lckhUTUwgPSBkYW5lLnN1bWFEb2Nob2R1ICsgXCIgesWCXCI7XHJcbiAgICAgIHd5ZGF0a2lTcm9ka2kuaW5uZXJIVE1MID0gZGFuZS5zdW1hV3lkYXRraSArIFwiIHrFglwiO1xyXG4gICAgICB3eWRhdGtpUHJvY2VudC5pbm5lckhUTUwgPSBkYW5lLnd5ZGF0a2lQcm9jZW50ICsgXCIgJVwiO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5jb25zdCBhcHBDb250cm9sbGVyID0gKChidWRnZXQsIHVpKSA9PiB7XHJcbiAgY29uc3QgZG9kYWpCdWR6ZXQgPSAoKSA9PiB7XHJcbiAgICAvLyBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY29uc3QgZGFuZSA9IHtcclxuICAgICAgcm9kemFqOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cInJvZHphalwiXScpLnZhbHVlLFxyXG4gICAgICBuYXp3YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJuYXp3YVwiXScpLnZhbHVlLFxyXG4gICAgICBrd290YTpcclxuICAgICAgICBNYXRoLmZsb29yKFxyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJrd290YVwiXScpLnZhbHVlLnJlcGxhY2UoXCIsXCIsIFwiLlwiKSAqIDEwMFxyXG4gICAgICAgICkgLyAxMDBcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHNwcmF3ZHpEYW5lKGRhbmUpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGJ1ZGdldC5kb2RhakVsZW1lbnREb0J1ZHpldHUoZGFuZSk7XHJcbiAgICB1aS5kb2RhakVsZW1lbnRCdWR6ZXR1RG9VSShkYW5lKTtcclxuICAgIHVpLmFrdHVhbGl6dWpCdWR6ZXRVSShidWRnZXQucG9iaWVyekRhbmVCdWR6ZXR1KCkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHVzdW5FbGVtZW50WkJ1ZHpldHUgPSBlID0+IHtcclxuICAgIGJ1ZGdldC51c3VuRWxlbWVudFpCdWR6ZXR1KGUpO1xyXG4gICAgdWkuYWt0dWFsaXp1akJ1ZHpldFVJKGJ1ZGdldC5wb2JpZXJ6RGFuZUJ1ZHpldHUoKSk7XHJcbiAgICBlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzcHJhd2R6RGFuZSA9IGRhbmUgPT4ge1xyXG4gICAgbGV0IGVycm9ycyA9IFwiXCI7XHJcblxyXG4gICAgT2JqZWN0LmtleXMoZGFuZSkuZm9yRWFjaChlID0+IHtcclxuICAgICAgaWYgKGRhbmVbZV0gPT09IFwiXCIpIHtcclxuICAgICAgICBpZiAoZSA9PT0gXCJuYXp3YVwiKSB7XHJcbiAgICAgICAgICBlcnJvcnMgKz0gYFdwcm93YWR6IGRhbmUgdyBwb2x1IGRvZGFqIG9waXMgPGJyPmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVycm9ycyArPSBgV3Byb3dhZHogZGFuZSB3IHBvbHUgJHtlfSA8YnI+YDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA9PT0gXCJuYXp3YVwiICYmIGRhbmVbZV0ubGVuZ3RoIDwgMykge1xyXG4gICAgICAgIGVycm9ycyArPSBgV3Byb3dhZHogbWluaW11bSAzIHpuYWtpIHcgcG9sdSAke2V9IDxicj5gO1xyXG4gICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgIChlID09PSBcImt3b3RhXCIgJiYgKGlzTmFOKHBhcnNlRmxvYXQoZGFuZVtlXSkpICYmICFpc0Zpbml0ZShkYW5lW2VdKSkpIHx8XHJcbiAgICAgICAgU3RyaW5nKGRhbmVbZV0pLmluY2x1ZGVzKFwiLVwiKVxyXG4gICAgICApIHtcclxuICAgICAgICBlcnJvcnMgKz0gYFdwcm93YWR6IHBvcHJhd25lIGRhbmUgdyBwb2x1ICR7ZX0gKHR5bGtvIGxpY3pieSkgPGJyPmA7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgdWkuemdsb3NCbGVkeShlcnJvcnMpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm47XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaWNqYWxpemFjamE6ICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09IFwiZmFyIGZhLWNoZWNrLWNpcmNsZVwiKSB7XHJcbiAgICAgICAgICBkb2RhakJ1ZHpldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSBcImZhciBmYS10aW1lcy1jaXJjbGVcIikge1xyXG4gICAgICAgICAgdXN1bkVsZW1lbnRaQnVkemV0dShlLnRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KShidWRnZXRDb250cm9sbGVyLCB1aUNvbnRyb2xsZXIpO1xyXG5cclxuYXBwQ29udHJvbGxlci5pbmljamFsaXphY2phKCk7XHJcbiIsIlwidXNlIHN0cmljdFwiOyIsIntcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBlID0+IHtcclxuICAgIGNvbnN0IGhhbWJ1cmdlckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyX19wcnp5Y2lza1wiKTtcclxuICAgIGNvbnN0IG5hd2lnYWNqYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF3aWdhY2phXCIpO1xyXG4gICAgbGV0IGplc3RBa3R5d255ID0gZmFsc2U7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdChcIi5oYW1idXJnZXJfX3ByenljaXNrXCIpKSB7XHJcbiAgICAgICAgbmF3aWdhY2phLmNsYXNzTGlzdC50b2dnbGUoXCJuYXdpZ2FjamEtLXVrcnlqXCIpO1xyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiaGFtYnVyZ2VyX19wcnp5Y2lzay0tYWt0eXdueVwiKTtcclxuICAgICAgICBqZXN0QWt0eXdueSA9ICFqZXN0QWt0eXdueTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGplc3RBa3R5d255ID09IHRydWUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdChcIi5uYXdpZ2FjamFcIikpIHJldHVybjtcclxuICAgICAgICBuYXdpZ2FjamEuY2xhc3NMaXN0LmFkZChcIm5hd2lnYWNqYS0tdWtyeWpcIik7XHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoYW1idXJnZXJfX3ByenljaXNrLS1ha3R5d255XCIpO1xyXG4gICAgICAgIGplc3RBa3R5d255ID0gIWplc3RBa3R5d255O1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuIl19
