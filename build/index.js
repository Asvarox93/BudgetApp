"use strict";var budzetKontroler=function(){var r=[0],u=[0],t=0,o=0,a=0,n=0,d=function(){var e=function(e,t){return e+t};o=Math.round(100*r.reduce(e))/100,a=Math.round(100*u.reduce(e))/100,t=Math.floor(100*(o-a))/100,n=Math.floor(100*a/o*100)/100};return{dodajElementDoBudzetu:function(e){"dochod"===e.rodzaj&&r.push(e.kwota),"wydatki"===e.rodzaj&&u.push(e.kwota),d()},usunElementZBudzetu:function(e){var t=e.parentNode.parentNode.dataset.type,o=e.parentNode.previousElementSibling.innerHTML.match(/\d+/g).map(Number);if("dochod"===t){var a=r.indexOf(o[0]);-1!==a&&r.splice(a,1)}if("wydatki"===t){var n=u.indexOf(o[0]);-1!==n&&u.splice(n,1)}d()},pobierzDaneBudzetu:function(){return{sumaDochodu:o,sumaWydatki:a,saldo:t,wydatkiProcent:n}}}}(),uiKontroler={zglosBledy:function(e){var t=document.querySelector(".kalkulator__bledy");t.innerHTML=e,t.classList.add("kalkulator__bledy--aktywny"),setTimeout(function(){t.classList.remove("kalkulator__bledy--aktywny")},5e3)},dodajElementBudzetuDoUI:function(e){var t,o=(t=e.rodzaj,document.querySelector("#".concat(t,"__template")).cloneNode(!0));o.content.querySelector(".element__opis").innerHTML=e.nazwa,o.content.querySelector(".element__kwota").innerHTML="".concat(e.kwota," zł"),document.querySelector(".".concat(e.rodzaj,"__lista")).appendChild(o.content)},aktualizujBudzetUI:function(e){var t=document.querySelector(".budzet__srodki"),o=document.querySelector(".dochod__srodki"),a=document.querySelector(".wydatki__srodki"),n=document.querySelector(".wydatki__procent");t.innerHTML=e.saldo+" zł",o.innerHTML=e.sumaDochodu+" zł",a.innerHTML=e.sumaWydatki+" zł",n.innerHTML=e.wydatkiProcent+" %"}},appKontroler=function(a,n){var r=function(t){var o="";if(Object.keys(t).forEach(function(e){""===t[e]?o+="nazwa"===e?"Wprowadz dane w polu dodaj opis <br>":"Wprowadz dane w polu ".concat(e," <br>"):"nazwa"===e&&t[e].length<3?o+="Wprowadz minimum 3 znaki w polu ".concat(e," <br>"):("kwota"===e&&isNaN(parseFloat(t[e]))&&!isFinite(t[e])||"kwota"===e&&String(t[e]).includes("-"))&&(o+="Wprowadz poprawne dane w polu ".concat(e," (tylko liczby) <br>"))}),o)return n.zglosBledy(o),!0};return{inicjalizacja:function(){document.querySelector("body").addEventListener("click",function(e){var t,o;"far fa-check-circle"===e.target.className&&(t={rodzaj:document.querySelector('[name="rodzaj"]').value,nazwa:document.querySelector('[name="nazwa"]').value,kwota:Math.floor(100*document.querySelector('[name="kwota"]').value.replace(",","."))/100},r(t)||(a.dodajElementDoBudzetu(t),n.dodajElementBudzetuDoUI(t),n.aktualizujBudzetUI(a.pobierzDaneBudzetu()))),"far fa-times-circle"===e.target.className&&(o=e.target,a.usunElementZBudzetu(o),n.aktualizujBudzetUI(a.pobierzDaneBudzetu()),o.parentNode.parentNode.remove())})}}}(budzetKontroler,uiKontroler);appKontroler.inicjalizacja();
"use strict";
"use strict";!function(){var d=!1,i=function(){var e=document.querySelector(".hamburger__przycisk");document.querySelector(".nawigacja").classList.toggle("nawigacja--ukryj"),e.classList.toggle("hamburger__przycisk--aktywny"),d=!d};document.addEventListener("DOMContentLoaded",function(e){document.addEventListener("click",function(e){var t,a,s,r,c,o;if(e.target.closest(".hamburger__przycisk"))i();else if(t=e.target.dataset.link,a=document.querySelector(".budzet"),s=document.querySelector(".todo"),r=document.querySelector("[data-link=budzet]"),c=document.querySelector("[data-link=todo]"),o=document.querySelector(".hamburger__przycisk"),"budzet"===t&&(r.classList.add("nawigacja__aktywny"),c.classList.remove("nawigacja__aktywny"),a.classList.remove("budzet__ukryj"),s.classList.remove("todo__pokaz"),o.classList.remove("hamburger__przycisk--todo"),i()),"todo"===t&&(c.classList.add("nawigacja__aktywny"),r.classList.remove("nawigacja__aktywny"),a.classList.add("budzet__ukryj"),s.classList.add("todo__pokaz"),o.classList.add("hamburger__przycisk--todo"),i()),1!=d);else{if(e.target.closest(".nawigacja"))return;i()}})})}();
"use strict";
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1ZHpldC5qcyIsImluZGV4LmpzIiwibmF3aWdhY2phLmpzIiwidG9kby5qcyJdLCJuYW1lcyI6WyJidWR6ZXRLb250cm9sZXIiLCJkb2Nob2RMaXN0YSIsInd5ZGF0a2lMaXN0YSIsInNhbGRvIiwic3VtYURvY2hvZHUiLCJ3eWRhdGtpUHJvY2VudCIsImdldHN1bSIsInRvdGFsIiwibnVtIiwiYWt0dWFsaXp1akJ1ZHpldCIsIk1hdGgiLCJyZWR1Y2UiLCJzdW1hV3lkYXRraSIsInJvdW5kIiwiZmxvb3IiLCJkb2RhakVsZW1lbnREb0J1ZHpldHUiLCJkYW5lIiwicm9kemFqIiwia3dvdGEiLCJwdXNoIiwiZSIsInBhcmVudE5vZGUiLCJkYXRhc2V0IiwidHlwZSIsInVzdW5FbGVtZW50WkJ1ZHpldHUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiaW5uZXJIVE1MIiwibWF0Y2giLCJtYXAiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJwb2JpZXJ6RGFuZUJ1ZHpldHUiLCJ1aUtvbnRyb2xlciIsInpnbG9zQmxlZHkiLCJibGVkeSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJkb2RhakVsZW1lbnRCdWR6ZXR1RG9VSSIsInRlbXAiLCJjb25jYXQiLCJjbG9uZU5vZGUiLCJjb250ZW50IiwibmF6d2EiLCJhcHBlbmRDaGlsZCIsImRvY2hvZFNyb2RraSIsInd5ZGF0a2lTcm9ka2kiLCJidWR6ZXRTcm9ka2kiLCJhcHBLb250cm9sZXIiLCJidWRnZXQiLCJkb2RhakJ1ZHpldCIsInVpIiwic3ByYXdkekRhbmUiLCJlcnJvcnMiLCJmb3JFYWNoIiwibGVuZ3RoIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJTdHJpbmciLCJpbmNsdWRlcyIsImluaWNqYWxpemFjamEiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY2xhc3NOYW1lIiwidmFsdWUiLCJha3R1YWxpenVqQnVkemV0VUkiLCJyZXBsYWNlIiwiamVzdEFrdHl3bnkiLCJoYW1idXJnZXJCdXR0b24iLCJtZW51VG9nZ2xlIiwidG9nZ2xlIiwibmF3aWdhY2phIiwiYnVkemV0Iiwiem1pZW5TdHJvbmUiLCJ0b2RvIiwiYnVkemV0TGluayIsImNsb3Nlc3QiLCJsaW5rIiwiaGFtYnVyZ2VyIiwiYWRkIiwidG9kb0xpbmsiXSwibWFwcGluZ3MiOiJhQUtBLElBQU1BLGdCQUFtQixXQUN2QixJQUFJQyxFQUFjLENBQUMsR0FEZkQsRUFBZSxDQUFJLEdBQ25CQyxFQUFBQSxFQUNBQyxFQUFZLEVBQ1pDLEVBQUosRUFDSUMsRUFBSixFQUVJQyxFQUFKLFdBR0UsSUFBTUMsRUFBUyxTQUFDQyxFQUFPQyxHQURuQkMsT0FBQUEsRUFBQUEsR0FFRkwsRUFBWU0sS0FBR0YsTUFBZixJQUFBUCxFQUFBVSxPQUFBTCxJQUFBLElBQ0RNLEVBRkRGLEtBQUFHLE1BQUEsSUFBQVgsRUFBQVMsT0FBQUwsSUFBQSxJQUdBRixFQUFBQSxLQUFXVSxNQUFpQ1IsS0FBekJPLEVBQU1aLElBQTZCLElBQ3REVyxFQUVBVCxLQUFLVyxNQUFlVixJQUFQVSxFQUFxQkYsRUFBZSxLQUFPLEtBSzFELE1BQU8sQ0FBUEcsc0JBQU8sU0FBQUMsR0FDZ0IsV0FBckJELEVBQUFBLFFBQ0VkLEVBQVNnQixLQUFMRCxFQUFnQkUsT0FFbkIsWUFBQUYsRUFBQUMsUUFFQ2YsRUFBYWlCLEtBQUtILEVBQUtFLE9BQ3hCVCxLQUVEQSxvQkFBZ0IsU0FBQVcsR0FUYixJQUFBSCxFQUFBRyxFQUFBQyxXQUFBQSxXQUFBQyxRQUFBQyxLQVdMQyxFQUFBQSxFQUFBQSxXQUFxQkMsdUJBQUNDLFVBQ3BCQyxNQUFNVixRQUNOVyxJQUFNVixRQUlOLEdBQWUsV0FBWEQsRUFBcUIsQ0FDdkIsSUFBTVksRUFBUTVCLEVBQVk2QixRQUFRWixFQUFwQixLQUNDLElBQVhXLEdBQUo1QixFQUFjOEIsT0FBSUYsRUFBQSxHQUduQixHQUFBLFlBQUFaLEVBQUEsQ0FF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bnQiOlsiLy8gRG9kYXdhbmllIGJ1ZHpldHVcclxuLyogQnVkemV0IHR5bGtvIG5hIHBva2F6LCBnZHlieW0gY2hjaWHFgiBhYnkgYXBsaWthY2phIGZ1bmtjam9ub3dhxYJhIHogYmF6xIUgZGFueWNoIHRvXHJcbiBwcnplY2hvd3l3YcWCYnltIG9waXMsIGt3b3RlIGkgdHlwIHcgdHp3LiBvYmplY3QgYXJyYXkgaSBjbyBha3R1YWxpemFjamUgd3lzecWCYcWCIGRvIGJhenkgZGFueWNoLFxyXG4gYSBwcnp5IHVydWNob21pZW5pdSB3IGZ1bmtjamkgaW5pY2phbGl6YWNqYSB6YcWCYWRvd2HFgmJ5bSBkYW5lIHogYmF6eS4gKi9cclxuXHJcbmNvbnN0IGJ1ZHpldEtvbnRyb2xlciA9ICgoKSA9PiB7XHJcbiAgbGV0IGRvY2hvZExpc3RhID0gWzBdO1xyXG4gIGxldCB3eWRhdGtpTGlzdGEgPSBbMF07XHJcbiAgbGV0IHNhbGRvID0gMDtcclxuICBsZXQgc3VtYURvY2hvZHUgPSAwO1xyXG4gIGxldCBzdW1hV3lkYXRraSA9IDA7XHJcbiAgbGV0IHd5ZGF0a2lQcm9jZW50ID0gMDtcclxuXHJcbiAgY29uc3QgYWt0dWFsaXp1akJ1ZHpldCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGdldHN1bSA9ICh0b3RhbCwgbnVtKSA9PiB7XHJcbiAgICAgIHJldHVybiB0b3RhbCArIG51bTtcclxuICAgIH07XHJcbiAgICBzdW1hRG9jaG9kdSA9IE1hdGgucm91bmQoZG9jaG9kTGlzdGEucmVkdWNlKGdldHN1bSkgKiAxMDApIC8gMTAwO1xyXG4gICAgc3VtYVd5ZGF0a2kgPSBNYXRoLnJvdW5kKHd5ZGF0a2lMaXN0YS5yZWR1Y2UoZ2V0c3VtKSAqIDEwMCkgLyAxMDA7XHJcblxyXG4gICAgc2FsZG8gPSBNYXRoLmZsb29yKChzdW1hRG9jaG9kdSAtIHN1bWFXeWRhdGtpKSAqIDEwMCkgLyAxMDA7XHJcbiAgICB3eWRhdGtpUHJvY2VudCA9XHJcbiAgICAgIE1hdGguZmxvb3IoKChzdW1hV3lkYXRraSAqIDEwMCkgLyBzdW1hRG9jaG9kdSkgKiAxMDApIC8gMTAwO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBkb2RhakVsZW1lbnREb0J1ZHpldHU6IGRhbmUgPT4ge1xyXG4gICAgICBpZiAoZGFuZS5yb2R6YWogPT09IFwiZG9jaG9kXCIpIHtcclxuICAgICAgICBkb2Nob2RMaXN0YS5wdXNoKGRhbmUua3dvdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYW5lLnJvZHphaiA9PT0gXCJ3eWRhdGtpXCIpIHtcclxuICAgICAgICB3eWRhdGtpTGlzdGEucHVzaChkYW5lLmt3b3RhKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWt0dWFsaXp1akJ1ZHpldCgpO1xyXG4gICAgfSxcclxuICAgIHVzdW5FbGVtZW50WkJ1ZHpldHU6IGUgPT4ge1xyXG4gICAgICBjb25zdCByb2R6YWogPSBlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5kYXRhc2V0LnR5cGU7XHJcbiAgICAgIGNvbnN0IGt3b3RhID0gZS5wYXJlbnROb2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuaW5uZXJIVE1MXHJcbiAgICAgICAgLm1hdGNoKC9cXGQrL2cpXHJcbiAgICAgICAgLm1hcChOdW1iZXIpO1xyXG5cclxuICAgICAgaWYgKHJvZHphaiA9PT0gXCJkb2Nob2RcIikge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZG9jaG9kTGlzdGEuaW5kZXhPZihrd290YVswXSk7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgZG9jaG9kTGlzdGEuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJvZHphaiA9PT0gXCJ3eWRhdGtpXCIpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHd5ZGF0a2lMaXN0YS5pbmRleE9mKGt3b3RhWzBdKTtcclxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICB3eWRhdGtpTGlzdGEuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFrdHVhbGl6dWpCdWR6ZXQoKTtcclxuICAgIH0sXHJcbiAgICBwb2JpZXJ6RGFuZUJ1ZHpldHU6ICgpID0+IHtcclxuICAgICAgY29uc3QgZGFuZSA9IHtcclxuICAgICAgICBzdW1hRG9jaG9kdSxcclxuICAgICAgICBzdW1hV3lkYXRraSxcclxuICAgICAgICBzYWxkbyxcclxuICAgICAgICB3eWRhdGtpUHJvY2VudFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gZGFuZTtcclxuICAgIH1cclxuICB9O1xyXG59KSgpO1xyXG5cclxuY29uc3QgdWlLb250cm9sZXIgPSAoKCkgPT4ge1xyXG4gIGNvbnN0IGdldFRlbXBsYXRlSHRtbCA9IHJvZHphaiA9PiB7XHJcbiAgICBjb25zdCB0ZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7cm9kemFqfV9fdGVtcGxhdGVgKTtcclxuICAgIGNvbnN0IGNsb25lID0gdGVtcC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHpnbG9zQmxlZHk6IGUgPT4ge1xyXG4gICAgICBjb25zdCBibGVkeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIua2Fsa3VsYXRvcl9fYmxlZHlcIik7XHJcblxyXG4gICAgICBibGVkeS5pbm5lckhUTUwgPSBlO1xyXG4gICAgICBibGVkeS5jbGFzc0xpc3QuYWRkKFwia2Fsa3VsYXRvcl9fYmxlZHktLWFrdHl3bnlcIik7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBibGVkeS5jbGFzc0xpc3QucmVtb3ZlKFwia2Fsa3VsYXRvcl9fYmxlZHktLWFrdHl3bnlcIik7XHJcbiAgICAgIH0sIDUwMDApO1xyXG4gICAgfSxcclxuXHJcbiAgICBkb2RhakVsZW1lbnRCdWR6ZXR1RG9VSTogZGFuZSA9PiB7XHJcbiAgICAgIGNvbnN0IHRlbXAgPSBnZXRUZW1wbGF0ZUh0bWwoZGFuZS5yb2R6YWopO1xyXG5cclxuICAgICAgdGVtcC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fb3Bpc1wiKS5pbm5lckhUTUwgPSBkYW5lLm5hendhO1xyXG4gICAgICB0ZW1wLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19rd290YVwiKS5pbm5lckhUTUwgPSBgJHtcclxuICAgICAgICBkYW5lLmt3b3RhXHJcbiAgICAgIH0gesWCYDtcclxuXHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYC4ke2RhbmUucm9kemFqfV9fbGlzdGFgKVxyXG4gICAgICAgIC5hcHBlbmRDaGlsZCh0ZW1wLmNvbnRlbnQpO1xyXG4gICAgfSxcclxuICAgIGFrdHVhbGl6dWpCdWR6ZXRVSTogZGFuZSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1ZHpldFNyb2RraSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVkemV0X19zcm9ka2lcIik7XHJcbiAgICAgIGNvbnN0IGRvY2hvZFNyb2RraSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZG9jaG9kX19zcm9ka2lcIik7XHJcbiAgICAgIGNvbnN0IHd5ZGF0a2lTcm9ka2kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnd5ZGF0a2lfX3Nyb2RraVwiKTtcclxuICAgICAgY29uc3Qgd3lkYXRraVByb2NlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnd5ZGF0a2lfX3Byb2NlbnRcIik7XHJcblxyXG4gICAgICBidWR6ZXRTcm9ka2kuaW5uZXJIVE1MID0gZGFuZS5zYWxkbyArIFwiIHrFglwiO1xyXG4gICAgICBkb2Nob2RTcm9ka2kuaW5uZXJIVE1MID0gZGFuZS5zdW1hRG9jaG9kdSArIFwiIHrFglwiO1xyXG4gICAgICB3eWRhdGtpU3JvZGtpLmlubmVySFRNTCA9IGRhbmUuc3VtYVd5ZGF0a2kgKyBcIiB6xYJcIjtcclxuICAgICAgd3lkYXRraVByb2NlbnQuaW5uZXJIVE1MID0gZGFuZS53eWRhdGtpUHJvY2VudCArIFwiICVcIjtcclxuICAgIH1cclxuICB9O1xyXG59KSgpO1xyXG5cclxuY29uc3QgYXBwS29udHJvbGVyID0gKChidWRnZXQsIHVpKSA9PiB7XHJcbiAgY29uc3QgZG9kYWpCdWR6ZXQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBkYW5lID0ge1xyXG4gICAgICByb2R6YWo6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwicm9kemFqXCJdJykudmFsdWUsXHJcbiAgICAgIG5hendhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIm5hendhXCJdJykudmFsdWUsXHJcbiAgICAgIGt3b3RhOlxyXG4gICAgICAgIE1hdGguZmxvb3IoXHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImt3b3RhXCJdJykudmFsdWUucmVwbGFjZShcIixcIiwgXCIuXCIpICogMTAwXHJcbiAgICAgICAgKSAvIDEwMFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoc3ByYXdkekRhbmUoZGFuZSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgYnVkZ2V0LmRvZGFqRWxlbWVudERvQnVkemV0dShkYW5lKTtcclxuICAgIHVpLmRvZGFqRWxlbWVudEJ1ZHpldHVEb1VJKGRhbmUpO1xyXG4gICAgdWkuYWt0dWFsaXp1akJ1ZHpldFVJKGJ1ZGdldC5wb2JpZXJ6RGFuZUJ1ZHpldHUoKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXN1bkVsZW1lbnRaQnVkemV0dSA9IGUgPT4ge1xyXG4gICAgYnVkZ2V0LnVzdW5FbGVtZW50WkJ1ZHpldHUoZSk7XHJcbiAgICB1aS5ha3R1YWxpenVqQnVkemV0VUkoYnVkZ2V0LnBvYmllcnpEYW5lQnVkemV0dSgpKTtcclxuICAgIGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNwcmF3ZHpEYW5lID0gZGFuZSA9PiB7XHJcbiAgICBsZXQgZXJyb3JzID0gXCJcIjtcclxuXHJcbiAgICBPYmplY3Qua2V5cyhkYW5lKS5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICBpZiAoZGFuZVtlXSA9PT0gXCJcIikge1xyXG4gICAgICAgIGlmIChlID09PSBcIm5hendhXCIpIHtcclxuICAgICAgICAgIGVycm9ycyArPSBgV3Byb3dhZHogZGFuZSB3IHBvbHUgZG9kYWogb3BpcyA8YnI+YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXJyb3JzICs9IGBXcHJvd2FkeiBkYW5lIHcgcG9sdSAke2V9IDxicj5gO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChlID09PSBcIm5hendhXCIgJiYgZGFuZVtlXS5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgZXJyb3JzICs9IGBXcHJvd2FkeiBtaW5pbXVtIDMgem5ha2kgdyBwb2x1ICR7ZX0gPGJyPmA7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgKGUgPT09IFwia3dvdGFcIiAmJiAoaXNOYU4ocGFyc2VGbG9hdChkYW5lW2VdKSkgJiYgIWlzRmluaXRlKGRhbmVbZV0pKSkgfHxcclxuICAgICAgICAoZSA9PT0gXCJrd290YVwiICYmIFN0cmluZyhkYW5lW2VdKS5pbmNsdWRlcyhcIi1cIikpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGVycm9ycyArPSBgV3Byb3dhZHogcG9wcmF3bmUgZGFuZSB3IHBvbHUgJHtlfSAodHlsa28gbGljemJ5KSA8YnI+YDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICB1aS56Z2xvc0JsZWR5KGVycm9ycyk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybjtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5pY2phbGl6YWNqYTogKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gXCJmYXIgZmEtY2hlY2stY2lyY2xlXCIpIHtcclxuICAgICAgICAgIGRvZGFqQnVkemV0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09IFwiZmFyIGZhLXRpbWVzLWNpcmNsZVwiKSB7XHJcbiAgICAgICAgICB1c3VuRWxlbWVudFpCdWR6ZXR1KGUudGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKGJ1ZHpldEtvbnRyb2xlciwgdWlLb250cm9sZXIpO1xyXG5cclxuYXBwS29udHJvbGVyLmluaWNqYWxpemFjamEoKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7IiwiKCgpID0+IHtcclxuICBsZXQgamVzdEFrdHl3bnkgPSBmYWxzZTtcclxuXHJcbiAgY29uc3QgbWVudVRvZ2dsZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhhbWJ1cmdlckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyX19wcnp5Y2lza1wiKTtcclxuICAgIGNvbnN0IG5hd2lnYWNqYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF3aWdhY2phXCIpO1xyXG4gICAgbmF3aWdhY2phLmNsYXNzTGlzdC50b2dnbGUoXCJuYXdpZ2FjamEtLXVrcnlqXCIpO1xyXG4gICAgaGFtYnVyZ2VyQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJoYW1idXJnZXJfX3ByenljaXNrLS1ha3R5d255XCIpO1xyXG4gICAgamVzdEFrdHl3bnkgPSAhamVzdEFrdHl3bnk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgem1pZW5TdHJvbmUgPSBlID0+IHtcclxuICAgIGNvbnN0IGJ1ZHpldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVkemV0XCIpO1xyXG4gICAgY29uc3QgdG9kbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb1wiKTtcclxuICAgIGNvbnN0IGJ1ZHpldExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbGluaz1idWR6ZXRdXCIpO1xyXG4gICAgY29uc3QgdG9kb0xpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbGluaz10b2RvXVwiKTtcclxuICAgIGNvbnN0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyX19wcnp5Y2lza1wiKTtcclxuXHJcbiAgICBpZiAoZSA9PT0gXCJidWR6ZXRcIikge1xyXG4gICAgICBidWR6ZXRMaW5rLmNsYXNzTGlzdC5hZGQoXCJuYXdpZ2FjamFfX2FrdHl3bnlcIik7XHJcbiAgICAgIHRvZG9MaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXdpZ2FjamFfX2FrdHl3bnlcIik7XHJcbiAgICAgIGJ1ZHpldC5jbGFzc0xpc3QucmVtb3ZlKFwiYnVkemV0X191a3J5alwiKTtcclxuICAgICAgdG9kby5jbGFzc0xpc3QucmVtb3ZlKFwidG9kb19fcG9rYXpcIik7XHJcbiAgICAgIGhhbWJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiaGFtYnVyZ2VyX19wcnp5Y2lzay0tdG9kb1wiKTtcclxuICAgICAgbWVudVRvZ2dsZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGUgPT09IFwidG9kb1wiKSB7XHJcbiAgICAgIHRvZG9MaW5rLmNsYXNzTGlzdC5hZGQoXCJuYXdpZ2FjamFfX2FrdHl3bnlcIik7XHJcbiAgICAgIGJ1ZHpldExpbmsuY2xhc3NMaXN0LnJlbW92ZShcIm5hd2lnYWNqYV9fYWt0eXdueVwiKTtcclxuICAgICAgYnVkemV0LmNsYXNzTGlzdC5hZGQoXCJidWR6ZXRfX3VrcnlqXCIpO1xyXG4gICAgICB0b2RvLmNsYXNzTGlzdC5hZGQoXCJ0b2RvX19wb2thelwiKTtcclxuICAgICAgaGFtYnVyZ2VyLmNsYXNzTGlzdC5hZGQoXCJoYW1idXJnZXJfX3ByenljaXNrLS10b2RvXCIpO1xyXG4gICAgICBtZW51VG9nZ2xlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZSA9PiB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KFwiLmhhbWJ1cmdlcl9fcHJ6eWNpc2tcIikpIHtcclxuICAgICAgICBtZW51VG9nZ2xlKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB6bWllblN0cm9uZShlLnRhcmdldC5kYXRhc2V0LmxpbmspO1xyXG5cclxuICAgICAgaWYgKGplc3RBa3R5d255ID09IHRydWUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdChcIi5uYXdpZ2FjamFcIikpIHJldHVybjtcclxuICAgICAgICBtZW51VG9nZ2xlKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiLy8gY29uc3QgbG9naWthS29udHJvbGVyID0gKCgpID0+IHtcclxuLy8gICBsZXQgZWxlbWVudHMgPSBbXTtcclxuXHJcbi8vICAgcmV0dXJuIHtcclxuLy8gICAgIGRvZGFqRWxlbWVudDogZSA9PiB7XHJcbi8vICAgICAgIGNvbnN0IHsgaWQsIG9waXMsIGtvbHVtbmEsIGV0eWtpZXRhIH0gPSBlO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHBvYmllcnpPcGlzOiAoKSA9PiB7XHJcbi8vICAgICAgIHJldHVybiB0aGlzLm9waXM7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgcG9iaWVyeldhem5vc2M6ICgpID0+IHtcclxuLy8gICAgICAgcmV0dXJuIHRoaXMud2F6bm9zYztcclxuLy8gICAgIH0sXHJcbi8vICAgICBwb2JpZXJ6RXR5a2lldGU6ICgpID0+IHtcclxuLy8gICAgICAgcmV0dXJuIHRoaXMuZXR5a2lldGE7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuLy8gfSkoKTtcclxuXHJcbi8vIGNvbnN0IHVpS29udHJvbGVyID0gKCgpID0+IHtcclxuLy8gICAvL1xyXG4vLyB9KSgpO1xyXG5cclxuLy8gY29uc3QgdG9kb0FwcEtvbnRyb2xlciA9ICgobG9naWthLCB1aSkgPT4ge1xyXG4vLyAgIC8vXHJcblxyXG4vLyAgIHJldHVybiB7XHJcbi8vICAgICBpbmljamFsaXphY2phOiAoKSA9PiB7fVxyXG4vLyAgIH07XHJcbi8vIH0pKGxvZ2lrYUtvbnRyb2xlciwgdWlLb250cm9sZXIpO1xyXG4iXX0=
